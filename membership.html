<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Member Login | Elite AI Credit Repair</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="Member login for Elite AI Credit Repair digital education and tools."
  />

  <!-- Your existing main stylesheet -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- SITE HEADER (same style as other pages) -->
  <header class="site-header">
    <div class="container nav">
      <div class="brand">
        <img src="assets/elite_logo.png" alt="Elite AI Credit Repair Logo" class="logo" />
        <div class="brand-text">
          <span class="brand-name">Elite <strong>AI</strong> Credit Repair</span>
          <span class="brand-tagline"><strong>Masters of the Unknown â€“ Digital Credit Education</strong></span>
        </div>
      </div>
      <nav class="main-nav">
        <a href="index.html"><strong>Home</strong></a>
        <a href="book.html"><strong>Digital Book</strong></a>
        <a href="contact.html"><strong>Contact</strong></a>
        <a href="membership.html" class="active"><strong>Member Login</strong></a>
      </nav>
    </div>
  </header>

  <!-- MAIN CONTENT: LOGIN/SIGNUP -->
  <main>
    <section class="section">
      <div class="container">
        <h1><strong>Member Login</strong></h1>
        <p>
          <strong>
            Create your account or log in to access locked digital book content and future
            member-only tools.
          </strong>
        </p>

        <div class="auth-grid">
          <!-- SIGN UP -->
          <div class="card auth-card">
            <h2><strong>Create an Account</strong></h2>
            <label class="auth-label">
              <span>Email</span>
              <input id="signup-email" type="email" placeholder="you@example.com" required />
            </label>
            <label class="auth-label">
              <span>Password</span>
              <input id="signup-password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
            </label>
            <button id="signup-btn" class="btn-primary">
              <strong>Sign Up</strong>
            </button>
            <p id="signup-error" class="auth-error"></p>
          </div>

          <!-- LOGIN -->
          <div class="card auth-card">
            <h2><strong>Log In</strong></h2>
            <label class="auth-label">
              <span>Email</span>
              <input id="login-email" type="email" placeholder="you@example.com" required />
            </label>
            <label class="auth-label">
              <span>Password</span>
              <input id="login-password" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required />
            </label>
            <button id="login-btn" class="btn-secondary">
              <strong>Log In</strong>
            </button>
            <p id="login-error" class="auth-error"></p>
          </div>
        </div>

        <div class="auth-status-bar">
          <p id="auth-status-text"><strong>You are not logged in.</strong></p>
          <button id="logout-btn" class="btn-outline" style="display:none;">
            <strong>Log Out</strong>
          </button>
        </div>

        <p class="small">
          <strong>
            Note:</strong> Use the same email every time so we can connect your purchases with
          your member account.
        </p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>
        <strong>&copy; <span id="year-membership"></span> Elite AI Credit Repair.</strong>
        <strong> All rights reserved.</strong>
      </p>
    </div>
  </footer>

  <script>
    // Make sure the footer year updates
    document.getElementById("year-membership").textContent = new Date().getFullYear();
  </script>

  <!-- ðŸ”¥ FIREBASE LOGIN CODE GOES RIGHT HERE, BEFORE </body> ðŸ”¥ -->
  <script type="module">
    // Import Firebase SDKs from the CDN
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
    import {
      getAuth,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      signOut,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-auth.js";

    // 1ï¸âƒ£ REPLACE THIS CONFIG WITH YOUR REAL FIREBASE CONFIG
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY_HERE",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    // 2ï¸âƒ£ Initialize Firebase & Auth
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // 3ï¸âƒ£ Grab form elements
    const signupEmailInput = document.getElementById("signup-email");
    const signupPasswordInput = document.getElementById("signup-password");
    const signupBtn = document.getElementById("signup-btn");
    const signupError = document.getElementById("signup-error");

    const loginEmailInput = document.getElementById("login-email");
    const loginPasswordInput = document.getElementById("login-password");
    const loginBtn = document.getElementById("login-btn");
    const loginError = document.getElementById("login-error");

    const authStatusText = document.getElementById("auth-status-text");
    const logoutBtn = document.getElementById("logout-btn");

    // 4ï¸âƒ£ Sign Up handler
    if (signupBtn) {
      signupBtn.addEventListener("click", async () => {
        signupError.textContent = "";
        try {
          await createUserWithEmailAndPassword(
            auth,
            signupEmailInput.value,
            signupPasswordInput.value
          );
          signupError.textContent = "Account created! You are now logged in.";
        } catch (error) {
          signupError.textContent = error.message;
        }
      });
    }

    // 5ï¸âƒ£ Login handler
    if (loginBtn) {
      loginBtn.addEventListener("click", async () => {
        loginError.textContent = "";
        try {
          await signInWithEmailAndPassword(
            auth,
            loginEmailInput.value,
            loginPasswordInput.value
          );
          loginError.textContent = "";
          // Example: send them to book page after login
          // window.location.href = "book.html";
        } catch (error) {
          loginError.textContent = error.message;
        }
      });
    }

    // 6ï¸âƒ£ Logout handler
    if (logoutBtn) {
      logoutBtn.addEventListener("click", async () => {
        await signOut(auth);
      });
    }

    // 7ï¸âƒ£ Watch login state
    onAuthStateChanged(auth, (user) => {
      if (user) {
        authStatusText.innerHTML = `<strong>Logged in as ${user.email}</strong>`;
        logoutBtn.style.display = "inline-block";
      } else {
        authStatusText.innerHTML = "<strong>You are not logged in.</strong>";
        logoutBtn.style.display = "none";
      }
    });
  </script>
</body>
</html>
